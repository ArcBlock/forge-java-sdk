language: java
jdk: oraclejdk8
dist: trusty
cache:
  directories:
  - ".autoconf"
  - "$HOME/.m2"
branches:
  only:
  - master
before_install:
- openssl aes-256-cbc -K $encrypted_800cffc1b811_key -iv $encrypted_800cffc1b811_iv -in secring.gpg.enc -out secring.gpg -d
- sudo apt-get install -y rpm2cpio wget
- nvm install 10
install:
- epmd -daemon
script: make travis
before_script:
- make travis-init
before_deploy: make travis-deploy
deploy:
  provider: releases
  api_key:
    secure: Q+kKbLBmZkrraaJ5zEurVaRIcfGSZPP1jocyaB32Cu645M9ZYJcO0gueNDfkqpU3Em4vVcxreiRFrBZ07lKGicinvJApfxu7dAjMRrAXGaajhJ3Fs8OUR6rUfdEfSo3bI5szmncLkNt9LYQbjGCY9wgux0oARAYHjfUZrRfKuBe3Zb26iEwWEfE6UCUWSgS79Wjzv8QvQxtLXmGsYgXW3WEozrjJvjlv+8rEBLwfFR0F/xasiv0/gZQOJMubqmL8Bm4/bEpjIRLZf4LgjXm+kWlmCCmojb0cTbi8rVyVvQ36guG5Nyj2txOsqzX6w3+oiwAm3XvB5PxAFrYWPrVQBLKSyJ3J/IlLojyLzYSSCG1+27VpMSi8g8ySt89vGaT1DNH9Td1CwB55Mb5Cw1ZYjHu2EF96zJr5/RCXABCwfVqykCHk4rrHe6DYR08sQsNDhYbDmiMTmuzuASNIvBG+IITiWlZSsk2ixBooNenjT1EEup3c65ITA+0ElZ5pylJe+wzmwyaTxI0rvKCZY2DrPZGtNqn7PNYQP91oFOAXtltIOZkUhPeFLl9NLoNNOu5bLj+LBPKEq/VhZcwxYrhXemkSpuMNGNY/3LlY627gFqehaQ47uQXbH0DQqQ4PEpWccaCP6Mf44R7lIFXTsCNm9jjkJ8Z1vIv9Hey2rB6hOZg=
  file_glob: true
  file:
  - core/build/libs/*
  - did/build/libs/*
  - graphQL/build/libs/*
  - protobuf/build/libs/*
  skip_cleanup: true
  on:
    repo: ArcBlock/forge-java-sdk
    branch: master
env:
  global:
  - secure: O0rJCpkwbo0LcbPVbuGyS3JOVKUTvvOe/hf5tYpCjmF6kaSHTwKCmkMAIZAqNCu+RG2ur3BmfeBv2E8tsUP0YwfWopPpvGHRSoHeNfJpFefCFDi38Q931Go4an5mqSBCfxGDHT4k7OGQKQ3jLy1HKIFFViWXutheFJWaaqgZFsf7sVz+l02ZJ9bKdKxOKswS0yOmyiGrRVi/j1lDSyGWfaCYt9nG9ESJVqgtkTQ9tqzUrh78+fa4CwbJnToos2ZdyBAHoNkWyLIfmXRc9cCrVBcTs5mAaYuZ5k0jky5yQrNbUwBHEqM9OMn/M/LRsUGtkPmcNFWPbLzuY5c8BE6xIzGtKHpNR5ROgBoyQHavdMet/2zMLxchqEqKNHOO6pdno0RteSgyrxC/EcbHYxosIR0q+Aay9jKsqbQ8X9vlBEecVDx1+2qqrOm3FurKK3jKX3VwuzYAAwV54tfTUYW7K7c1k61Bs7M/LS1madby+Ic8zY5x4unGbH3s2KUbskEMyrlfnssrI82bdTUjp2weSSqF1p5m652prNQq64WA6jtoOpZP14gO/6pS1VHw/DbiqI3DUP19iyKjy06RMarT8RS27n4hUSES4KuZDlVPFJyROHQ2Y89LpWZETtFDoLKZ8vQRE7F4WtAFTVY4GANeZlMVKwt0tYkMJFioZnaxeSo=
  - secure: nj2huH1ENrt53+wRW2dnIVzBBVvl+dViKFn/e1GcmG1a200xcTRoqm+M9VIa2xePWXWOYQK1K1EJxXDuZ33oqcLNnnC7V605ItLADDhlheb7pJtTh6wSImZbE4cYxTVPNSWm1cNecwZW77ylVb06CLvCXtiNfm/1WobQqA8Q3173EzSixRimXgj7uDtAJqg8ObCmLYvmMyY0+O/FNZkqgU5nkt3ebf6dNg6ExUNCRl4aYoZ3SKkNQtEWV1F9K/nk4NCS7+Kuuf4RFY+1Di+Mv5YQJtOwEfHPWLrGCmaZLrxNqbGPjokdqL9kk4Ms6l79S8QA/Uwkf+HT2uNHbs9voyx1jLmuJTtuwW4RweKxl8oFbbsQ2loHOnEXDdl+CdnWproWkDtxUbxGxGVHocxASn/MDmlx1Yut/hMZbaTjFQ1ZzxYW66QLZRBj/8VlBfPiyvTwi1pOssemUD5uVFEuOjICTl0I+Jc6mxBVydzPeLVm1G5Y3olAot5vgsKVKC5PURND2xkRPFu9sTr4SueoMxszSymm6tOYmbClMqXt40/dGU6+QwCl5trWN/qXae5sSqbdtAb7UAROp2Or8cDstk2Z1fLfO4REwbsylVa0HYeKfxA9CtTCgWpFBJETOcGt/p4uWbTw2A+8ScOuAU5CLbK0PlmJR5EHh4WNkB0FeBI=
  - secure: TwVBFno6pp6JvKWpDutGVG6c1U16+K4pJdagDeidJb1J/2Y4Qg1fo7CNB5EHwyGlhBFOxJeUQlqiz0qEoW9k2biOuVEOHPfFP1SPao6ReStZetUor9pLyH67Ve7PDXcNZS4796ue06lOGESPSVXxyPLuFZoaxsVTpm6bwzSh3/VvUAxaIiL2/NGrmR++Wy24UH9knNRufG/CaTl8edwspEmGeSp2EI0nUqk1olVy6pycZCijbDoVe/weUZLVFBHmuzEKVYjaH0qFrkIhUlxgVq1E7WKvA5V5ZUXojduYOEyX+w3/M8qCj59IHo+ziX+FFgg3LWohL7B8vVtY4Z1O7J0DgVTddOSQ5QXCSPwTmQQ4bjTx8Tky6Prijwqt6kvMfQEaH+m86JyLmQ7HlQ1/Oosm5CxY7pehTY97PTWNHVDov3MhIeIcpFb8Dtdom8PhZXgKfwrrk0sWRA6VBC9gjkskD5aLouIG12w2UmUzLwcaBYjaZi0TvXy0CWgWOvqzYDc8gMIxpUhbqcPGN1iQseKljEKcaCUrT2Vf1zPUbU9XazNGHrS7kkxGYz6KfUJIaBQ45F+HkqOt/VvTtzxUh8ZZGeBhE9uhKFmlHZHEIDapsEObNj5jrs7GpK4qOIP8z3I/4i6GYicwJZlSHKHDvtO46KDtgNlnmkxaWXdiVSE=
  - secure: nQf/YnvtBGVLDif3hqez5E9pqTMT8pSRHb3OY9B3OXeemAWQG1pbAoM8UbVaMdAdWmlB9UApPqPFtaTV2EHj5xYooHxpJHcdHn14QLZuu92MLZC7IVhhVAgJjAoC526/Wj7FCv4BSFyCllvaAoIz8yDYLYdWuXZC7xGdl8YyOFSOFeMojNMB6pwbVwsXiHebEKWeU6osArmCmt7I/lPWG7CXDOnwcbqhqsrsvlhSvEyB+m8bUYo0mJUDN+EU92JZYZVpRae+yerWGMdy0WARtrJ9OobItBCh/XxJv3HTpFCWpmm3fvrSwJc++Ge6cZtBBkU/jjJSJO0nh7ZyPHBHYolgBE3GCFdCmwdC1KLtnOjnuTRGXELdKJ9V/UhvP77axHaY5uR1gSoVJivw0FgO5XMn0X5pvAG0AJ6TR2uYSeN/T5tmxxKsGSffmpdIwcFrkh+Fh4R0+BnjnTHu24toWAEMaRXnGOW4kYx5CASSWcsHdt8a/2rdhhNKOMfhjr25+IRRr9vyYdOADhLpao92mFXrEN/cRwiP7jmo6w4U88gL5TPkeysDafKr0x8rn5dqfZdsRLZxjM9GirWKhTE4LVdtP+oLtJt0ktokbSXrOSj/pP7qtO9cHpO+0LBwfSRRzG3BOXJUfBup0ukt2x5IxTJn1AT3+cRQ3pRx1TwoolY=
  - secure: RJnnIEeY6RruYriLPtISV3z9/zyHzqn+5kWvmPG/0p3H6kE8lfW4c8eClniUbo07odox07vPec2Gn6C7Oqm6XVMoEOHL8jRMc+hUR4D4nVLNu6HtP9UKRZZi3iVGgRTXKy7FWjW/BSPIYM5nEHc9vprbESvsgC0ern2yq3IiNgWJ9MhCNjg9ENriTwegEcXTnRd0tChGcy4pipIV0ECOmL/dWuyEtvuRCltlOj3eeDjNZfkZBRWWVg3GUUYMGymd+5yKoaBPH/S9atjRPMyoew5HU4GJYf9+B9bnhDS3ZEU0TR3OJCpS+6bFHSxyjOYnxvYjioJpKI5rak7pGxJnSf4DyPKvAShe2mhCgfZAUUfH/goKZgHKAnn6VDPgfQ1jcsbnVFsaenfZeJsvW1X1OIQNtDkYzBHKNW8fZCK+cOE+dimh1dPQTPj0aFW4CNguTm1XiC8QQKLcdN7Ikrvip6K1k4faVFGMXs2+6ERHIIWcrYHhbCyixhfQthsTn9rRMiNk4o3BDDHN10SazPCFr4NsvERt7n8vbidZPqe6TeZoR6/9OWTXodz1lVeShn/QAMHn+fOVI+Sc98qHUB0f9jrr0XHJYkGmNcAA4eMCeslk9wINy1FB2qwiQoZEXDYyG9Kj11Ywbp03PqSRk5E9l13qDG+sZLXkRLidblcg9Lk=
  - secure: DGSu/f1E2FcWlrDm9Wcy9wDE75BNZWz6H3P2WY7IfryhpOTzWOyaDuj4GMl7UZghRFoiGfHXo6EJ+G7Ps+qGIfeTDzVSCbYw9WD6tqjEb+ZtS6Y6WySbKHHUWloe4u3Oe0lmQVp4LFugo60hjNjV98HX171HDbQ3QNvS45y1CHjoLuUePx07MuqBVmZ/XDaxA1hF/xYtQO5ellylqNJhYL7U2icKH9l1bSeoI5KRjfHkpI5w/ndTMO0v2NPw6OBpq+jCEcOQ7RGwfEyoUVM/zu6HWQIQs3H7wbUHsR9ARQkuZQKOUOL96edAJ+qr/SwXjA9OFrWtWro01B62dz5FJ+EkqpHC21YKp2kXa9eRIVOjDK8pV/wNn+tAl8aKvmBCf5T3GDXyPLEvj1bkdjodHUaZwbdXqQsKeJ3wOJgQruvlBRik39ScMxNZlWkwM6sxl69OopWzQoY65TdR8FQCEqBp292ppmGsq6mVksxwxVgUBkGgMLqqNJkvMXSizf93fEr3n5/InOTBj0BCT8c0vvV0SalaEmS0Pe6bSzEWY+QLpmibFm6gwsW2pKZAzzCOFl7ireb4LC6ePyaKEs8CtXnOuIzT+vdT7n5gtXaStOY3JP9PAquhCvVBzZeYK6MHuKEVMuvoI146uBf+GE1Z8o/g2NrxhbnG2LZkhdNG/7A=
